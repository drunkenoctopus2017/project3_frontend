<div class="container">

	<div class="jumbotron">
		<!-- <h1>Drunken Octopus Main Menu</h1> -->
		<h1>Welcome {{user.firstName}} {{user.lastName}}</h1>
		<br>
		<button (click)="createScrumBoard()" [hidden]="!(user.role.id >= 200)" class="btn btn-primary">New Scrum Board</button>
	</div>
	<div *ngIf="!boards">
		<fa name="cog" animation="spin"></fa>
	</div>
	<div class="card" *ngFor="let b of boardsWithPercent">
		<div class="card-body" (click)="viewBoard(b.board)">
			<h4 class="card-title">{{b.board.name}}</h4>
			<div style="float: right" class="btn-group" role="group" aria-label="..." (click)="$event.stopPropagation();">
				<button type="button" class="btn btn-secondary" (click)="editScrumBoard(b.board); " *ngIf="(user.role.id == 200)">
					<span>
						<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
					</span>
				</button>
				<button type="button" class="btn btn-secondary" (click)="getAllUsers(b.board); ">
					<span>
						<i class="fa fa-users" aria-hidden="true"></i>
					</span>
				</button>
				<button type="button" class="btn btn-secondary" *ngIf="(user.role.id >= 200)" (click)="modal1.show()">
					<span>
						<i class="fa fa-trash" aria-hidden="true"></i>
					</span>
				</button>
			</div>
		</div>
		<app-modal #modal1>
			<div class="app-modal-header">
				Delete {{b.board.name}}
			</div>
			<div class="app-modal-body">
				<p>Are you sure you want to delete this board? All data on this board will be lost.</p>
			</div>
			<div class="app-modal-footer">
				<button type="button" class="btn btn-danger" (click)="deleteScrumBoard(b.board); modal1.hide()">Yes</button>
				<button type="button" class="btn btn-secondary" (click)="modal1.hide()">No</button>
			</div>
		</app-modal>
		<div class="card-body" style="cursor: pointer" (click)="viewBoard(b.board)">
			<div *ngIf="b.percent !== '100%'" class="progress">
				<div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" aria-valuenow="60" aria-valuemin="0"
				 aria-valuemax="100" [style.width]="b.percent">{{b.percent}}</div>
			</div>
			<div *ngIf="b.percent === '100%'" class="progress">
					<div class="progress-bar bg-success" role="progressbar" aria-valuenow="60" aria-valuemin="0"
					 aria-valuemax="100" [style.width]="b.percent">{{b.percent}}</div>
			</div>
		</div>
	</div>
</div>